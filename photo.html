<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script>

		// alert("1");
		// var oImg = document.getElementById('photo');
  //  		var timer=setInterval(function(){
  //      		 oImg.src = 'screenshot.png?time='+Math.random();
  //      		 alert("1");
  //   		},1000);
  	
		

</script>
</head>
<body>

	<!-- 服务器上这样写路径是不对的 -->
		<!-- <img style="border: 2px red solid;height: 576px;width: 324px;" id="img" src='test.png'/> -->
	
	
</body>

<script type="text/javascript">
	// var oImg = document.getElementById("test1");
  	// setInterval(function(){
  	// 	oImg.src = 'test.png?time='+Math.random();
  	// 	//alert("1");
	  // },500);	
	var wsUri ="ws://119.29.156.242:8080";
	var ws = new WebSocket(wsUri);
	ws.binaryType = 'blob';
	
	ws.onmessage=function(message){

		var blob = new Blob([message.data],{"type":"image\/jpeg"});
        var src = window.URL.createObjectURL(blob);
        var img = document.createElement('img');
		img.src = src;
		img.width=100;
		img.height=171;
        img.onload = function(){
            window.URL.revokeObjectURL(src);
        };
        document.body.appendChild(img);

	};
		
</script>

</html>